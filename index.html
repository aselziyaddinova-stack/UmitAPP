<!doctype html>
<html lang="kk">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>UmitApp ‚Äì —Å–µ–Ω –∂–∞–ª“ì—ã–∑ –µ–º–µ—Å—Å—ñ“£</title>
  <script src="/_sdk/element_sdk.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.14.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.14.1/firebase-database.js"></script>
  <style>
        body {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: Arial, sans-serif;
            background-color: #1E1E2E;
            color: white;
            line-height: 1.6;
            min-height: 100%;
        }
        html {
            height: 100%;
        }
        * {
            box-sizing: border-box;
        }
        .container {
            max-width: 100%;
            padding: 20px;
            margin: 0 auto;
        }
        header {
            text-align: right;
            padding: 20px 0;
        }
        .site-title {
            font-size: 2.5em;
            font-weight: bold;
            color: white;
            margin: 0;
            line-height: 1.2;
        }
        .tagline {
            font-size: 1.2em;
            color: #B0B0B0;
            margin: 5px 0;
        }
        .welcome-section {
            text-align: center;
            margin: 30px 0;
        }
        h2 {
            color: white;
            font-size: 1.5em;
            margin-bottom: 10px;
        }
        .subtitle {
            color: #B0B0B0;
            margin-bottom: 30px;
            font-size: 1em;
        }
        .main-buttons {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin: 30px 0;
        }
        .main-btn {
            background: #4A90E2;
            color: white;
            border: none;
            border-radius: 20px;
            padding: 15px 20px;
            font-size: 1.1em;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 15px rgba(74, 144, 226, 0.3);
        }
        .main-btn:hover {
            background: #357ABD;
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(74, 144, 226, 0.4);
        }
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            opacity: 0;
            transition: opacity 0.3s;
        }
        .modal.show {
            opacity: 1;
        }
        .modal-content {
            background: white;
            color: #333;
            margin: 5% auto;
            padding: 20px;
            border-radius: 15px;
            width: 90%;
            max-width: 500px;
            max-height: 80%;
            overflow-y: auto;
            position: relative;
        }
        .close {
            position: absolute;
            right: 15px;
            top: 15px;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
            color: #999;
        }
        .close:hover {
            color: #333;
        }
        .chat-container {
            height: 300px;
            overflow-y: auto;
            border: 1px solid #ddd;
            border-radius: 10px;
            padding: 15px;
            margin: 15px 0;
            background: #f9f9f9;
        }
        .chat-bubble {
            margin: 10px 0;
            padding: 10px 15px;
            border-radius: 15px;
            max-width: 80%;
            animation: fadeIn 0.3s;
            word-wrap: break-word;
        }
        .chat-bubble.ai {
            background: #E8F4FD;
            margin-right: auto;
            border-bottom-left-radius: 5px;
        }
        .chat-bubble.user {
            background: #4A90E2;
            color: white;
            margin-left: auto;
            border-bottom-right-radius: 5px;
        }
        .chat-bubble.community {
            background: #FFE8D6;
            margin-right: auto;
            border-bottom-left-radius: 5px;
        }
        .chat-bubble.community .username {
            font-weight: bold;
            color: #FF8C42;
            font-size: 0.9em;
            margin-bottom: 3px;
        }
        .avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: #FF8C42;
            display: inline-block;
            margin-right: 10px;
            vertical-align: middle;
        }
        .chat-input {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }
        .chat-input input {
            flex: 1;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 20px;
            outline: none;
        }
        .chat-input button {
            background: #4A90E2;
            color: white;
            border: none;
            border-radius: 20px;
            padding: 10px 20px;
            cursor: pointer;
        }
        .chat-input button:hover {
            background: #357ABD;
        }
        .emotion-section {
            text-align: center;
            margin: 30px 0;
        }
        .emoji-row {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin: 20px 0;
            flex-wrap: wrap;
        }
        .emoji {
            font-size: 2em;
            cursor: pointer;
            transition: transform 0.2s;
            padding: 10px;
            border-radius: 50%;
        }
        .emoji:hover {
            transform: scale(1.2);
            background: rgba(255, 255, 255, 0.1);
        }
        .emotion-tips {
            text-align: left;
            margin: 20px 0;
        }
        .emotion-tip {
            display: none;
            background: rgba(255, 255, 255, 0.1);
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            animation: fadeIn 0.5s;
        }
        .section {
            margin: 30px 0;
        }
        .section h3 {
            color: white;
            font-size: 1.3em;
            margin-bottom: 15px;
        }
        .section ul {
            list-style: none;
            padding: 0;
        }
        .section li {
            background: rgba(255, 255, 255, 0.1);
            margin: 10px 0;
            padding: 12px 15px;
            border-radius: 8px;
            border-left: 4px solid #4A90E2;
        }
        .emergency-numbers {
            text-align: center;
            margin: 20px 0;
        }
        .emergency-number {
            display: inline-block;
            margin: 15px 20px;
            text-align: center;
        }
        .emergency-number a {
            font-size: 2em;
            color: #4A90E2;
            font-weight: bold;
            text-decoration: none;
            display: block;
            transition: color 0.3s;
        }
        .emergency-number a:hover {
            color: #357ABD;
        }
        .emergency-number .description {
            font-size: 0.8em;
            color: #B0B0B0;
            margin-top: 5px;
        }
        .diary-section {
            margin: 30px 0;
        }
        .diary-form {
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
        }
        .diary-form textarea {
            width: 100%;
            min-height: 120px;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 10px;
            font-size: 1em;
            font-family: Arial, sans-serif;
            resize: vertical;
            outline: none;
        }
        .diary-form button {
            background: #4A90E2;
            color: white;
            border: none;
            border-radius: 20px;
            padding: 12px 30px;
            font-size: 1em;
            cursor: pointer;
            margin-top: 10px;
            transition: all 0.3s;
        }
        .diary-form button:hover {
            background: #357ABD;
            transform: translateY(-2px);
        }
        .diary-entries {
            margin-top: 20px;
        }
        .diary-entry {
            background: rgba(255, 255, 255, 0.1);
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 15px;
            border-left: 4px solid #4A90E2;
            animation: fadeIn 0.5s;
        }
        .diary-entry .date {
            color: #B0B0B0;
            font-size: 0.9em;
            margin-bottom: 8px;
        }
        .diary-entry .content {
            color: white;
            line-height: 1.6;
        }
        .diary-entry .delete-btn {
            background: #E74C3C;
            color: white;
            border: none;
            border-radius: 15px;
            padding: 5px 15px;
            font-size: 0.85em;
            cursor: pointer;
            margin-top: 10px;
            transition: background 0.3s;
        }
        .diary-entry .delete-btn:hover {
            background: #C0392B;
        }
        footer {
            background: rgba(0, 0, 0, 0.3);
            padding: 20px;
            text-align: center;
            margin-top: 40px;
            border-radius: 10px;
        }
        .burst-emoji {
            position: fixed;
            font-size: 1.5em;
            pointer-events: none;
            z-index: 9999;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        @keyframes bottomToLeft {
            0% {
                transform: scale(0) rotate(0deg) translateX(0) translateY(0);
                opacity: 1;
            }
            20% {
                transform: scale(1.2) rotate(90deg) translateX(-20px) translateY(-20px);
                opacity: 1;
            }
            100% {
                transform: scale(0.8) rotate(360deg) translateX(-100vw) translateY(-50px);
                opacity: 0;
            }
        }
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-10px); }
            60% { transform: translateY(-5px); }
        }
        .pulse { animation: pulse 2s infinite; }
        .bounce { animation: bounce 1s infinite; }
        .glow { filter: brightness(1.3); }
        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
           
            .site-title {
                font-size: 2em;
            }
            .tagline {
                font-size: 1em;
            }
           
            h2 {
                font-size: 1.3em;
            }
           
            .modal-content {
                margin: 10% auto;
                width: 95%;
            }
           
            .emoji {
                font-size: 1.5em;
                padding: 5px;
            }
            .emergency-number {
                margin: 10px 10px;
            }
            .emergency-number a {
                font-size: 1.5em;
            }
        }
    </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
  <script src="https://cdn.tailwindcss.com" type="text/javascript"></script>
 </head>
 <body>
  <div class="container">
   <header>
    <h1 class="site-title" id="app-title">UmitApp</h1>
    <p class="tagline" id="tagline-1">–°–µ–Ω –∂–∞–ª“ì—ã–∑ –µ–º–µ—Å—Å—ñ“£</p>
    <p class="tagline" id="tagline-2">“Æ–º—ñ—Ç –±–∞—Ä</p>
   </header>
   <main>
    <section class="welcome-section">
     <h2 id="welcome-message">–°”ô–ª–µ–º, –¥–æ—Å!</h2>
     <p class="subtitle" id="subtitle-text">–¢–µ–≥—ñ–Ω –∫”©–º–µ–∫ –∞–ª–∞—Ç—ã–Ω –±–∞—Ç—ã—Ä–º–∞–ª–∞—Ä –∞—Ä“õ—ã–ª—ã “õ–∞–∂–µ—Ç—Ç—ñ –∫”©–º–µ–∫ —Ç–∞–±—ã“£—ã–∑.</p>
     <div class="main-buttons"><button class="main-btn" onclick="openModal('helpModal')">üí¨ –ö”©–º–µ–∫ —Å“±—Ä–∞—É</button> <button class="main-btn" onclick="openModal('psychModal')">üß† –ü—Å–∏—Ö–æ–ª–æ–≥–∏—è–ª—ã“õ –±–∞–π–ª–∞–Ω—ã—Å</button> <button class="main-btn" onclick="openModal('communityModal')">üë• “ö–∞—É—ã–º–¥–∞—Å—Ç—ã“õ —á–∞—Ç—ã</button> <button class="main-btn" onclick="openModal('sosModal')">üÜò –®“±“ì—ã–ª –±–∞–π–ª–∞–Ω—ã—Å (SOS)</button>
     </div>
    </section>
    <section class="section" id="bilimger">
     <h3>–ë—ñ–ª—ñ–º–≥–µ—Ä</h3>
     <ul>
      <li>üí° –ü—Å–∏—Ö–æ–ª–æ–≥–∏—è–ª—ã“õ –∫”©–º–µ–∫ “õ–∞–ª–∞–π –∞–ª—É“ì–∞ –±–æ–ª–∞–¥—ã</li>
      <li>üÜò SOS ‚Äì —à“±“ì—ã–ª –±–∞–π–ª–∞–Ω—ã—Å</li>
      <li>üìö –ú–∞“õ–∞–ª–∞–ª–∞—Ä –º–µ–Ω –∫–µ“£–µ—Å—Ç–µ—Ä</li>
      <li>üë• “ö–∞—É—ã–º–¥–∞—Å—Ç—ã“õ (“õ–∞—É—ñ–ø—Å—ñ–∑ –æ—Ä—Ç–∞)</li>
      <li>‚öñÔ∏è “ö“±“õ—ã“õ—Ç—ã“õ “õ–∞—É—ñ–ø—Å—ñ–∑–¥—ñ–∫ –∂”ô–Ω–µ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è</li>
     </ul>
    </section>
    <section class="section">
     <h3>“ö“±–ø–∏—è –∫”©–º–µ–∫</h3>
     <p>üìû –°–µ–º—ñ–º —Ç–µ–ª–µ—Ñ–æ–Ω (“ö–∞–∑–∞“õ—Å—Ç–∞–Ω)</p>
     <div class="emergency-numbers">
      <div class="emergency-number"><a href="tel:111">111</a>
       <div class="description">
        –û—Ç–±–∞—Å—ã–ª—ã“õ —Ç–µ–ª–µ—Ñ–æ–Ω
       </div>
      </div>
      <div class="emergency-number"><a href="tel:103">103</a>
       <div class="description">
        –ñ–µ–¥–µ–ª –∂”ô—Ä–¥–µ–º
       </div>
      </div>
     </div>
    </section>
    <section class="emotion-section">
     <h3>–≠–º–æ—Ü–∏—è–ª–∞—Ä–¥—ã –∫”©—Ä—Å–µ—Ç—É</h3>
     <p>–°–µ–∑—ñ–º–¥–µ—Ä—ñ“£—ñ–∑–¥—ñ –±–µ–ª–≥—ñ–ª–µ“£—ñ–∑ ‚Äì –∞–Ω–∏–º–∞—Ü–∏—è –º–µ–Ω –¥—ã–±—ã—Å —à—ã“ì–∞—Ä–∞–¥—ã</p>
     <div class="emoji-row"><span class="emoji" onclick="selectEmotionWithBurst(event, 'happy', 'üòä')">üòä</span> <span class="emoji" onclick="selectEmotionWithBurst(event, 'neutral', 'üòê')">üòê</span> <span class="emoji" onclick="selectEmotionWithBurst(event, 'angry', 'üò†')">üò†</span> <span class="emoji" onclick="selectEmotionWithBurst(event, 'sad', 'üò¢')">üò¢</span> <span class="emoji" onclick="selectEmotionWithBurst(event, 'rage', 'üò°')">üò°</span>
     </div>
     <div class="emotion-tips">
      <div id="tip-happy" class="emotion-tip glow"><strong>üòä –ë–∞“õ—ã—Ç—Ç—ã:</strong> –ë“±–ª —Å–µ–∑—ñ–º–¥—ñ —Å–∞“õ—Ç–∞“£—ã–∑! –î–æ—Å—Ç–∞—Ä—ã“£—ã–∑–±–µ–Ω –±”©–ª—ñ—Å—ñ“£—ñ–∑, –∂–∞“õ—Å—ã —Å”ô—Ç—Ç–µ—Ä–¥—ñ –±–∞“ì–∞–ª–∞“£—ã–∑.
      </div>
      <div id="tip-angry" class="emotion-tip"><strong>üò° –ê—à—É–ª—ã–ª—ã“õ:</strong> –ê—à—É—ã–Ω –±–∞—Å“õ–∞—Ä—É “Ø—à—ñ–Ω —É–∞“õ—ã—Ç –∞–ª—ã“£—ã–∑, —Ç–µ—Ä–µ“£ –¥–µ–º –∞–ª—ã“£—ã–∑, –¥–µ–Ω–µ –∂–∞—Ç—Ç—ã“ì—É–ª–∞—Ä—ã–Ω –∂–∞—Å–∞“£—ã–∑.
      </div>
      <div id="tip-sad" class="emotion-tip pulse"><strong>üò¢ –ú“±“£–ª—ã:</strong> –ú“±“£–ª—ã —Å”ô—Ç—Ç–µ—Ä ”©—Ç–µ–¥—ñ, —Å–µ–Ω –∂–∞–ª“ì—ã–∑ –µ–º–µ—Å—Å—ñ“£. –ë—ñ–∑ “õ–∞—É—ã–º–¥–∞—Å—Ç—ã“õ—Ç–∞“ì—ã. –ö”©“£—ñ–ª–¥—ñ–ª—ñ–∫.
      </div>
      <div id="tip-neutral" class="emotion-tip bounce"><strong>üòê –ë–µ–π—Ç–∞—Ä–∞–ø:</strong> –ö“Ø–Ω–¥–µ–ª—ñ–∫—Ç—ñ “õ—ã—Å—ã–º–¥—ã –∞–∑–∞–π—Ç—ã“£—ã–∑. –¢–µ—Ä–µ“£ —Ç—ã–Ω—ã—Å –∞–ª—ã“£—ã–∑, “õ–æ–∑“ì–∞–ª—ã—Å –∂–∞—Å–∞“£—ã–∑, –º–µ–¥–∏—Ç–∞—Ü–∏—è –∂–∞—Å–∞“£—ã–∑.
      </div>
      <div id="tip-rage" class="emotion-tip"><strong>üò† –ê—à—É:</strong> “ö–∞—É—ñ–ø—Å—ñ–∑–¥—ñ–∫—Ç—ñ “õ–∞–º—Ç–∞–º–∞—Å—ã–∑ –µ—Ç—ñ“£—ñ–∑, –¥–æ—Å—ã“£—ã–∑–±–µ–Ω —Å”©–π–ª–µ—Å—ñ“£—ñ–∑, –∫”ô—Å—ñ–±–∏ –∫”©–º–µ–∫ –∞–ª—ã“£—ã–∑.
      </div>
     </div>
    </section>
    <section class="diary-section">
     <h3>üìî –ö“Ø–Ω–¥–µ–ª—ñ–∫</h3>
     <p>–ö“Ø–Ω —Å–∞–π—ã–Ω“ì—ã —Å–µ–∑—ñ–º–¥–µ—Ä—ñ“£—ñ–∑–¥—ñ –∂–∞–∑—ã“£—ã–∑</p>
     <div class="diary-form"><textarea id="diaryInput" placeholder="–ë“Ø–≥—ñ–Ω “õ–∞–ª–∞–π —Å–µ–∑—ñ–Ω–¥—ñ“£—ñ–∑? –ù–µ –æ–π–ª–∞–¥—ã“£—ã–∑?"></textarea> <button onclick="saveDiaryEntry()">üíæ –°–∞“õ—Ç–∞—É</button>
     </div>
     <div class="diary-entries" id="diaryEntries"></div>
    </section>
   </main>
   <footer>
    <p>UmitApp ‚Äì “ö“±“õ—ã“õ—Ç—ã“õ –±—ñ–ª—ñ–º–¥—ñ “±—Å—ã–Ω–∞—Ç—ã–Ω —Ü–∏—Ñ—Ä–ª—ã“õ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞. –ï–≥–µ—Ä —ç–º–æ—Ü–∏—è–ª—ã“õ “õ–∞—É—ã–º–¥–∞—Å—Ç—ã“õ –∫–µ—Ä–µ–∫ –±–æ–ª—Å–∞ ‚Äì 103 –Ω–µ–º–µ—Å–µ 111 —Ö–∞–±–∞—Ä–ª–∞—Å—ã“£—ã–∑.</p>
   </footer>
  </div><!-- Help Modal -->
  <div id="helpModal" class="modal">
   <div class="modal-content"><span class="close" onclick="closeModal('helpModal')">√ó</span>
    <h3>üí¨ –ö”©–º–µ–∫ —Å“±—Ä–∞—É</h3>
    <div class="avatar"></div>
    <div class="chat-container" id="helpChat">
     <div class="chat-bubble ai">
      –°”ô–ª–µ–º! –ú–µ–Ω —Å—ñ–∑–≥–µ –∫”©–º–µ–∫ –±–µ—Ä—É–≥–µ –¥–∞–π—ã–Ω–º—ã–Ω. “ö–∞–ª–∞–π —Å–µ–∑—ñ–Ω–µ—Å—ñ–∑? –ê–Ω–æ–Ω–∏–º–¥—ñ –∂”ô–Ω–µ “õ–∞—É—ñ–ø—Å—ñ–∑.
     </div>
    </div>
    <div class="chat-input"><input type="text" id="helpInput" placeholder="–•–∞–±–∞—Ä—ã“£—ã–∑–¥—ã –∂–∞–∑—ã“£—ã–∑..." onkeypress="handleChatInput(event, 'help')"> <button onclick="sendMessage('help')">–ñ—ñ–±–µ—Ä—É</button>
    </div>
   </div>
  </div><!-- Psychology Modal -->
  <div id="psychModal" class="modal">
   <div class="modal-content"><span class="close" onclick="closeModal('psychModal')">√ó</span>
    <h3>üß† –ü—Å–∏—Ö–æ–ª–æ–≥–∏—è–ª—ã“õ –±–∞–π–ª–∞–Ω—ã—Å</h3>
    <div class="avatar"></div>
    <div class="chat-container" id="psychChat">
     <div class="chat-bubble ai">
      –°”ô–ª–µ–º! –ú–µ–Ω ‚Äì —Å—ñ–∑–¥—ñ“£ “õ–æ–ª–¥–∞—É—à—ã“£—ã–∑. –ù–µ –º–∞–∑–∞–ª–∞–π–¥—ã? –ú–µ–Ω –º“±–Ω–¥–∞–º—ã–Ω, —Å—ñ–∑ –∂–∞–ª“ì—ã–∑ –µ–º–µ—Å—Å—ñ–∑.
     </div>
    </div>
    <div class="chat-input"><input type="text" id="psychInput" placeholder="–°–µ–∑—ñ–º–¥–µ—Ä—ñ“£—ñ–∑–¥—ñ –±”©–ª—ñ—Å—ñ“£—ñ–∑..." onkeypress="handleChatInput(event, 'psych')"> <button onclick="sendMessage('psych')">–ñ—ñ–±–µ—Ä—É</button>
    </div>
   </div>
  </div><!-- Community Chat Modal -->
  <div id="communityModal" class="modal">
   <div class="modal-content"><span class="close" onclick="closeModal('communityModal')">√ó</span>
    <h3>üë• “ö–∞—É—ã–º–¥–∞—Å—Ç—ã“õ —á–∞—Ç—ã</h3>
    <p style="color: #666; font-size: 0.9em;">–ê–Ω–æ–Ω–∏–º–¥—ñ “õ–∞—É—ñ–ø—Å—ñ–∑ –æ—Ä—Ç–∞. –ë–∞—Å“õ–∞ –ø–∞–π–¥–∞–ª–∞–Ω—É—à—ã–ª–∞—Ä–º–µ–Ω —Å”©–π–ª–µ—Å—ñ“£—ñ–∑.</p>
    <div class="chat-container" id="communityChat">
    </div>
    <div class="chat-input"><input type="text" id="communityInput" placeholder="–•–∞–±–∞—Ä—ã“£—ã–∑–¥—ã –∂–∞–∑—ã“£—ã–∑..." onkeypress="handleChatInput(event, 'community')"> <button onclick="sendMessage('community')">–ñ—ñ–±–µ—Ä—É</button>
    </div>
   </div>
  </div><!-- SOS Modal -->
  <div id="sosModal" class="modal">
   <div class="modal-content"><span class="close" onclick="closeModal('sosModal')">√ó</span>
    <h3>üÜò –®“±“ì—ã–ª –±–∞–π–ª–∞–Ω—ã—Å (SOS)</h3>
    <div class="emergency-numbers">
     <p><strong>–®“±“ì—ã–ª –∫”©–º–µ–∫ —Ç–µ–ª–µ—Ñ–æ–Ω–¥–∞—Ä—ã:</strong></p>
     <div class="emergency-number"><a href="tel:111">111</a>
      <div class="description">
       –û—Ç–±–∞—Å—ã–ª—ã“õ —Ç–µ–ª–µ—Ñ–æ–Ω (“ö–∞–∑–∞“õ—Å—Ç–∞–Ω)
      </div>
     </div>
     <div class="emergency-number"><a href="tel:103">103</a>
      <div class="description">
       –ñ–µ–¥–µ–ª –∂”ô—Ä–¥–µ–º
      </div>
     </div>
     <div class="emergency-number"><a href="tel:102">102</a>
      <div class="description">
       –ü–æ–ª–∏—Ü–∏—è
      </div>
     </div>
    </div>
    <p style="color: #666; margin-top: 20px; text-align: center;">–ù–æ–º–µ—Ä–¥—ñ –±–∞—Å—ã“£—ã–∑ ‚Äì —Ç–µ–ª–µ—Ñ–æ–Ω “õ–æ—Å—ã–º—à–∞—Å—ã –∞—à—ã–ª–∞–¥—ã</p>
   </div>
  </div>
  <script>
        const defaultConfig = {
            app_title: "UmitApp",
            tagline_1: "–°–µ–Ω –∂–∞–ª“ì—ã–∑ –µ–º–µ—Å—Å—ñ“£",
            tagline_2: "“Æ–º—ñ—Ç –±–∞—Ä",
            welcome_message: "–°”ô–ª–µ–º, –¥–æ—Å!",
            subtitle_text: "–¢–µ–≥—ñ–Ω –∫”©–º–µ–∫ –∞–ª–∞—Ç—ã–Ω –±–∞—Ç—ã—Ä–º–∞–ª–∞—Ä –∞—Ä“õ—ã–ª—ã “õ–∞–∂–µ—Ç—Ç—ñ –∫”©–º–µ–∫ —Ç–∞–±—ã“£—ã–∑."
        };
        const aiResponses = {
            help: [
                "–ú–µ–Ω —Å—ñ–∑–¥—ñ —Ç“Ø—Å—ñ–Ω–µ–º—ñ–Ω. –ë“±–ª “õ–∏—ã–Ω –∫–µ–∑–µ“£, –±—ñ—Ä–∞“õ —Å—ñ–∑ –º—ã“õ—Ç—ã—Å—ã–∑.",
                "–°—ñ–∑–¥—ñ“£ —Å–µ–∑—ñ–º–¥–µ—Ä—ñ“£—ñ–∑ –º–∞“£—ã–∑–¥—ã. “ö–∞–ª–∞–π –∫”©–º–µ–∫ –±–µ—Ä–µ –∞–ª–∞–º—ã–Ω?",
                "–°—ñ–∑ –¥“±—Ä—ã—Å –∂–µ—Ä–≥–µ –∫–µ–ª–¥—ñ“£—ñ–∑. –ú–µ–Ω —Å—ñ–∑–±–µ–Ω –±—ñ—Ä–≥–µ.",
                "–ë“±–ª “õ–∞–¥–∞–º –∂–∞—Å–∞—É “Ø—à—ñ–Ω –±–∞—Ç—ã–ª–¥—ã“õ –∫–µ—Ä–µ–∫ –±–æ–ª–¥—ã. –ú–∞“õ—Ç–∞–Ω–∞–º—ã–Ω —Å—ñ–∑–±–µ–Ω.",
                "–°—ñ–∑–¥—ñ“£ “õ–∞—É—ñ–ø—Å—ñ–∑–¥—ñ–≥—ñ“£—ñ–∑ ‚Äì –±—ñ–∑–¥—ñ“£ –±–∞—Å—Ç—ã –º–∞“õ—Å–∞—Ç—ã–º—ã–∑."
            ],
            psych: [
                "–°–µ–∑—ñ–º–¥–µ—Ä—ñ“£—ñ–∑–¥—ñ –±”©–ª—ñ—Å—É ‚Äì –º–∞“£—ã–∑–¥—ã “õ–∞–¥–∞–º. –ú–µ–Ω —Ç—ã“£–¥–∞–ø –æ—Ç—ã—Ä–º—ã–Ω.",
                "–°—ñ–∑ –∂–∞–ª“ì—ã–∑ –µ–º–µ—Å—Å—ñ–∑. –ö”©–ø—Ç–µ–≥–µ–Ω –∞–¥–∞–º–¥–∞—Ä –æ—Å—ã–Ω–¥–∞–π –∂–∞“ì–¥–∞–π–¥–∞–Ω ”©—Ç–µ–¥—ñ.",
                "”®–∑—ñ“£—ñ–∑–≥–µ “õ–∞–º“õ–æ—Ä–ª—ã“õ –∂–∞—Å–∞—É ‚Äì –∫“Ø—à –±–µ–ª–≥—ñ—Å—ñ, ”ô–ª—Å—ñ–∑–¥—ñ–∫ –µ–º–µ—Å.",
                "–°—ñ–∑–¥—ñ“£ —Ç”ô–∂—ñ—Ä–∏–±–µ“£—ñ–∑ –¥“±—Ä—ã—Å. –°–µ–∑—ñ–º–¥–µ—Ä—ñ“£—ñ–∑ –∑–∞“£–¥—ã.",
                "–ë—ñ–∑ “õ–∞–¥–∞–º —Å–∞–π—ã–Ω –∂“Ø—Ä–µ–º—ñ–∑. –ê—Å—ã“õ–ø–∞“£—ã–∑."
            ]
        };
        // Firebase Config - –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ —Å–≤–æ–∏ –¥–∞–Ω–Ω—ã–µ –∏–∑ Firebase Console
        const firebaseConfig = {
            apiKey: "YOUR_API_KEY",
            authDomain: "YOUR_PROJECT.firebaseapp.com",
            databaseURL: "https://YOUR_PROJECT-default-rtdb.firebaseio.com",
            projectId: "YOUR_PROJECT",
            storageBucket: "YOUR_PROJECT.appspot.com",
            messagingSenderId: "YOUR_SENDER_ID",
            appId: "YOUR_APP_ID"
        };
        firebase.initializeApp(firebaseConfig);
        const database = firebase.database();
        const communityMessagesRef = database.ref('community_messages');
        let communityInitialized = false;
        const getCommunityUsername = () => {
            let uname = localStorage.getItem('community_username');
            if (!uname) {
                uname = '–ê–Ω–æ–Ω–∏–º–¥—ñ-' + Math.floor(Math.random() * 10000);
                localStorage.setItem('community_username', uname);
            }
            return uname;
        };
        // Generate random anonymous username for AI responses (if needed)
        function getRandomUsername() {
            return '–ê–Ω–æ–Ω–∏–º–¥—ñ-' + Math.floor(Math.random() * 1000);
        }
        function openModal(modalId) {
            const modal = document.getElementById(modalId);
            modal.style.display = 'block';
            setTimeout(() => modal.classList.add('show'), 10);
            if (modalId === 'communityModal' && !communityInitialized) {
                const chat = document.getElementById('communityChat');
                chat.innerHTML = '';
                communityMessagesRef.orderByChild('timestamp').on('child_added', (snapshot) => {
                    const msg = snapshot.val();
                    const bubble = document.createElement('div');
                    const isOwn = msg.username === getCommunityUsername();
                    bubble.className = 'chat-bubble ' + (isOwn ? 'user' : 'community');
                    if (!isOwn) {
                        const usernameDiv = document.createElement('div');
                        usernameDiv.className = 'username';
                        usernameDiv.textContent = msg.username;
                        bubble.appendChild(usernameDiv);
                    }
                    const text = document.createTextNode(msg.text);
                    bubble.appendChild(text);
                    chat.appendChild(bubble);
                    chat.scrollTop = chat.scrollHeight;
                });
                communityInitialized = true;
            }
        }
        function closeModal(modalId) {
            const modal = document.getElementById(modalId);
            modal.classList.remove('show');
            setTimeout(() => modal.style.display = 'none', 300);
        }
        function handleChatInput(event, type) {
            if (event.key === 'Enter') {
                sendMessage(type);
            }
        }
        function sendMessage(type) {
            let inputId, chatId, bubbleClass;
           
            if (type === 'help') {
                inputId = 'helpInput';
                chatId = 'helpChat';
                bubbleClass = 'user';
            } else if (type === 'psych') {
                inputId = 'psychInput';
                chatId = 'psychChat';
                bubbleClass = 'user';
            } else if (type === 'community') {
                inputId = 'communityInput';
                chatId = 'communityChat';
            }
           
            const input = document.getElementById(inputId);
            const chat = document.getElementById(chatId);
           
            if (input.value.trim()) {
                if (type === 'community') {
                    // For community: send to Firebase
                    const username = getCommunityUsername();
                    const message = input.value.trim();
                    communityMessagesRef.push({
                        username: username,
                        text: message,
                        timestamp: Date.now()
                    });
                    input.value = '';
                    chat.scrollTop = chat.scrollHeight;
                } else {
                    // Add user message for help/psych
                    const userBubble = document.createElement('div');
                    userBubble.className = 'chat-bubble ' + bubbleClass;
                    userBubble.textContent = input.value;
                    chat.appendChild(userBubble);
                   
                    // Clear input
                    input.value = '';
                   
                    // Add AI response after delay
                    setTimeout(() => {
                        const responseBubble = document.createElement('div');
                        responseBubble.className = 'chat-bubble ai';
                        responseBubble.textContent = aiResponses[type][Math.floor(Math.random() * aiResponses[type].length)];
                        chat.appendChild(responseBubble);
                        chat.scrollTop = chat.scrollHeight;
                    }, 1000);
                   
                    chat.scrollTop = chat.scrollHeight;
                }
            }
        }
        function selectEmotionWithBurst(event, emotion, emoji) {
            createBurstAnimation(event.target, emoji);
            showEmotionTip(emotion);
        }
        function createBurstAnimation(element, emoji) {
            const emojiCount = 15 + Math.floor(Math.random() * 6);
            for (let i = 0; i < emojiCount; i++) {
                const burstEmoji = document.createElement('div');
                burstEmoji.className = 'burst-emoji';
                burstEmoji.textContent = emoji;
               
                const isLeft = Math.random() < 0.5;
                const startX = isLeft ? Math.random() * 100 : window.innerWidth - Math.random() * 100;
                const startY = window.innerHeight - Math.random() * 50;
               
                burstEmoji.style.left = startX + 'px';
                burstEmoji.style.top = startY + 'px';
                burstEmoji.style.animation = `bottomToLeft 3s ease-out forwards`;
                burstEmoji.style.animationDelay = (i * 0.08) + 's';
               
                document.body.appendChild(burstEmoji);
               
                setTimeout(() => burstEmoji.remove(), 3000);
            }
        }
        function showEmotionTip(emotion) {
            document.querySelectorAll('.emotion-tip').forEach(tip => {
                tip.style.display = 'none';
            });
           
            const tipId = 'tip-' + emotion;
            const tip = document.getElementById(tipId);
            if (tip) {
                tip.style.display = 'block';
            }
        }
        // Diary functions
        function saveDiaryEntry() {
            const input = document.getElementById('diaryInput');
            const text = input.value.trim();
           
            if (text) {
                const entries = getDiaryEntries();
                const newEntry = {
                    id: Date.now(),
                    date: new Date().toLocaleString('kk-KZ'),
                    content: text
                };
               
                entries.unshift(newEntry);
                localStorage.setItem('diaryEntries', JSON.stringify(entries));
               
                input.value = '';
                renderDiaryEntries();
            }
        }
        function getDiaryEntries() {
            const stored = localStorage.getItem('diaryEntries');
            return stored ? JSON.parse(stored) : [];
        }
        function deleteDiaryEntry(id) {
            const entries = getDiaryEntries();
            const filtered = entries.filter(entry => entry.id !== id);
            localStorage.setItem('diaryEntries', JSON.stringify(filtered));
            renderDiaryEntries();
        }
        function renderDiaryEntries() {
            const container = document.getElementById('diaryEntries');
            const entries = getDiaryEntries();
           
            if (entries.length === 0) {
                container.innerHTML = '<p style="color: #B0B0B0; text-align: center;">”ò–ª—ñ –∂–∞–∑–±–∞–ª–∞—Ä –∂–æ“õ</p>';
                return;
            }
           
            container.innerHTML = entries.map(entry => `
                <div class="diary-entry">
                    <div class="date">üìÖ ${entry.date}</div>
                    <div class="content">${entry.content}</div>
                    <button class="delete-btn" onclick="deleteDiaryEntry(${entry.id})">üóëÔ∏è ”®—à—ñ—Ä—É</button>
                </div>
            `).join('');
        }
        // Close modals when clicking outside
        window.onclick = function(event) {
            if (event.target.classList.contains('modal')) {
                event.target.classList.remove('show');
                setTimeout(() => event.target.style.display = 'none', 300);
            }
        }
        // Element SDK Implementation
        async function onConfigChange(config) {
            document.getElementById('app-title').textContent = config.app_title || defaultConfig.app_title;
            document.getElementById('tagline-1').textContent = config.tagline_1 || defaultConfig.tagline_1;
            document.getElementById('tagline-2').textContent = config.tagline_2 || defaultConfig.tagline_2;
            document.getElementById('welcome-message').textContent = config.welcome_message || defaultConfig.welcome_message;
            document.getElementById('subtitle-text').textContent = config.subtitle_text || defaultConfig.subtitle_text;
        }
        function mapToCapabilities(config) {
            return {
                recolorables: [],
                borderables: [],
                fontEditable: undefined,
                fontSizeable: undefined
            };
        }
        function mapToEditPanelValues(config) {
            return new Map([
                ["app_title", config.app_title || defaultConfig.app_title],
                ["tagline_1", config.tagline_1 || defaultConfig.tagline_1],
                ["tagline_2", config.tagline_2 || defaultConfig.tagline_2],
                ["welcome_message", config.welcome_message || defaultConfig.welcome_message],
                ["subtitle_text", config.subtitle_text || defaultConfig.subtitle_text]
            ]);
        }
        // Initialize
        if (window.elementSdk) {
            window.elementSdk.init({
                defaultConfig,
                onConfigChange,
                mapToCapabilities,
                mapToEditPanelValues
            });
        }
        // Load diary entries on page load
        renderDiaryEntries();
    </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'99ff799330c9e4bf',t:'MTc2MzM4NTA5Ni4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
